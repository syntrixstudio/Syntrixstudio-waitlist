<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Syntrix Studio â€” Waitlist</title>
    <meta name="description" content="Syntrix Studio is building the home of AI-native entertainment. Join the waitlist for early access." />
    <meta name="theme-color" content="#05060F" />
    <style>
      :root {
        --bg: #05060F;
        --panel: rgba(13, 15, 26, 0.72);
        --text: #FFFFFF;
        --line: rgba(255, 255, 255, 0.08);
        --accent-gradient: linear-gradient(90deg, #FF007F 0%, #0B72FF 50%, #6C00FF 100%);
      }

      * { box-sizing: border-box; }
      
      body {
        margin: 0;
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
        background-color: var(--bg);
        color: var(--text);
        min-height: 100vh;
        /* The exact "Original" background gradients */
        background-image: 
          radial-gradient(800px 500px at 10% 20%, rgba(255, 0, 127, 0.15), transparent 60%),
          radial-gradient(600px 600px at 90% 10%, rgba(11, 114, 255, 0.15), transparent 60%),
          radial-gradient(900px 400px at 50% 90%, rgba(108, 0, 255, 0.15), transparent 60%);
      }

      .container { max-width: 1100px; margin: 0 auto; padding: 0 24px; }

      /* NAVIGATION */
      .nav {
        position: sticky; top: 0; z-index: 100;
        backdrop-filter: blur(12px);
        background: rgba(5, 6, 15, 0.8);
        border-bottom: 1px solid var(--line);
      }
      .nav-inner {
        height: 70px; display: flex; align-items: center; justify-content: space-between;
      }
      .brand { font-weight: 700; font-size: 18px; display: flex; align-items: center; gap: 10px; }
      .glyph {
        width: 32px; height: 32px; border-radius: 8px;
        background: var(--accent-gradient);
      }
      .btn-sm {
        font-size: 14px; font-weight: 600; padding: 8px 16px; border-radius: 12px;
        background: rgba(255,255,255,0.1); text-decoration: none; color: white;
        transition: background 0.2s;
      }

      /* HERO SECTION */
      .hero { padding: 80px 0; }
      .hero-grid {
        display: grid; grid-template-columns: 1fr 1fr; gap: 40px; align-items: center;
      }
      @media(max-width: 800px) { .hero-grid { grid-template-columns: 1fr; } }

      h1 {
        font-size: clamp(40px, 5vw, 64px);
        line-height: 1.1; margin: 0 0 20px 0;
        letter-spacing: -0.02em;
      }
      .subhead {
        font-size: 18px; line-height: 1.6; color: rgba(255,255,255,0.7);
        max-width: 480px; margin-bottom: 30px;
      }

      /* GLASS PANEL FORM */
      .glass-card {
        background: var(--panel);
        border: 1px solid var(--line);
        border-radius: 24px;
        padding: 32px;
        box-shadow: 0 20px 40px rgba(0,0,0,0.4);
        backdrop-filter: blur(20px);
      }

      .input-group { margin-bottom: 20px; }
      label { display: block; font-size: 14px; color: rgba(255,255,255,0.6); margin-bottom: 8px; }
      
      input[type="email"] {
        width: 100%; padding: 16px; border-radius: 14px;
        border: 1px solid var(--line);
        background: rgba(0,0,0,0.3);
        color: white; font-size: 16px; outline: none;
        transition: border-color 0.2s;
      }
      input[type="email"]:focus { border-color: #0B72FF; }

      /* PILL TOGGLES (The Original Look) */
      .toggle-container {
        display: flex; background: rgba(0,0,0,0.3);
        border-radius: 14px; padding: 4px;
        border: 1px solid var(--line);
      }
      .toggle-option {
        flex: 1; text-align: center; padding: 10px;
        border-radius: 10px; cursor: pointer;
        font-size: 14px; font-weight: 500; color: rgba(255,255,255,0.6);
        transition: all 0.2s;
      }
      .toggle-option:hover { color: white; }
      
      /* Hidden Radio Logic */
      input[type="radio"] { display: none; }
      input[type="radio"]:checked + div {
        background: var(--accent-gradient);
        color: white; font-weight: 600;
        box-shadow: 0 4px 12px rgba(0,0,0,0.3);
      }

      /* MAIN BUTTON */
      .btn-primary {
        width: 100%; padding: 16px; border-radius: 14px; border: none;
        background: var(--accent-gradient);
        color: white; font-size: 16px; font-weight: 700;
        cursor: pointer; margin-top: 10px;
        box-shadow: 0 10px 20px rgba(11, 114, 255, 0.3);
        transition: transform 0.1s;
      }
      .btn-primary:active { transform: scale(0.98); }
      .btn-primary:disabled { opacity: 0.7; cursor: wait; }

      .micro { font-size: 12px; color: rgba(255,255,255,0.4); margin-top: 16px; text-align: center; }

      /* TOAST NOTIFICATION */
      #toast {
        position: fixed; bottom: 30px; left: 50%; transform: translateX(-50%);
        background: var(--panel); border: 1px solid rgba(255,255,255,0.1);
        padding: 12px 24px; border-radius: 50px;
        display: none; backdrop-filter: blur(10px);
        font-weight: 600; font-size: 14px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        z-index: 999;
      }

      footer {
        margin-top: 80px; padding: 40px 0; border-top: 1px solid var(--line);
        font-size: 14px; color: rgba(255,255,255,0.4);
      }
    </style>
  </head>
  <body>

    <div class="nav">
      <div class="container">
        <div class="nav-inner">
          <div class="brand"><div class="glyph"></div>Syntrix Studio</div>
          <a href="#waitlist" class="btn-sm">Early Access</a>
        </div>
      </div>
    </div>

    <section class="hero">
      <div class="container">
        <div class="hero-grid">
          
          <div class="hero-text">
            <h1>The Studio for AI-Generated Worlds.</h1>
            <p class="subhead">
              Join the waitlist for early access invites. We're building the home of AI-native entertainment.
            </p>
          </div>

          <div class="glass-card" id="waitlist">
            <h2 style="margin-top:0; font-size:24px;">Join the waitlist</h2>
            <p style="color:rgba(255,255,255,0.6); margin-bottom:24px;">No spam. Early access invites only.</p>

            <form id="waitlistForm">
              
              <div class="input-group">
                <label>Email Address</label>
                <input type="email" name="email" placeholder="name@example.com" required />
              </div>

              <div class="input-group">
                <label>I'm joining as:</label>
                <div class="toggle-container">
                  <label class="toggle-option">
                    <input type="radio" name="role" value="Viewer" checked>
                    <div>Viewer</div>
                  </label>
                  <label class="toggle-option">
                    <input type="radio" name="role" value="Creator">
                    <div>Creator</div>
                  </label>
                  <label class="toggle-option">
                    <input type="radio" name="role" value="Both">
                    <div>Both</div>
                  </label>
                </div>
              </div>

              <button type="submit" class="btn-primary" id="submitBtn">Notify Me</button>
              <div class="micro">By joining, you agree to receive launch updates.</div>
            </form>
          </div>

        </div>
      </div>
    </section>

    <footer>
      <div class="container">
        Â© <span id="year"></span> Syntrix Studio. All rights reserved.
      </div>
    </footer>

    <div id="toast"></div>

    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    
    <script>
      // 1. Initialize EmailJS with your Public Key
      (function() {
          emailjs.init("DkW2YKp0OpiTw060H"); // Verified Public Key
      })();

      const API_URL = "https://synthrixstudio-waitlist-api.syntrixstudio-com.workers.dev";
      const form = document.getElementById("waitlistForm");
      const submitBtn = document.getElementById("submitBtn");
      const toast = document.getElementById("toast");
      document.getElementById("year").textContent = new Date().getFullYear();

      // Toast Function
      function showToast(msg, isError = false) {
        toast.innerText = msg;
        toast.style.display = "block";
        toast.style.color = isError ? "#ff6b6b" : "#4ade80"; // Red for error, Green for success
        // Original Gradient for success background
        if (!isError) {
          toast.style.background = "linear-gradient(90deg, #FF007F 0%, #0B72FF 100%)";
          toast.style.color = "white";
        } else {
          toast.style.background = "rgba(13, 15, 26, 0.9)";
        }
        
        setTimeout(() => {
          toast.style.display = "none";
        }, 4000);
      }

      // Submit Logic
      form.addEventListener("submit", async (e) => {
        e.preventDefault();

        // UI Loading
        const originalText = submitBtn.innerText;
        submitBtn.innerText = "Joining...";
        submitBtn.disabled = true;

        const email = form.email.value.trim();
        const role = new FormData(form).get("role");

        try {
          // A. Save to Cloudflare Database
          const response = await fetch(API_URL, {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ email: email.toLowerCase(), role: role.toLowerCase() })
          });

          if (response.ok) {
            // B. Send Welcome Email via EmailJS
            // Using your Verified Service ID & Template ID
            await emailjs.send("service_4km8x39", "template_fzv9aqa", {
              email: email,
              role: role
            });

            // Success UI
            showToast("You're on the list! ðŸš€");
            form.reset();
            // Reset radio to Viewer
            const radios = form.querySelectorAll('input[type="radio"]');
            if(radios[0]) radios[0].checked = true;
          } else {
            throw new Error("Server error");
          }

        } catch (error) {
          console.error(error);
          showToast("Network error. Please try again.", true);
        } finally {
          submitBtn.innerText = originalText;
          submitBtn.disabled = false;
        }
      });
    </script>
  </body>
</html>
